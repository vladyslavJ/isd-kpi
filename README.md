# PrivatBank API

## 1. Встановлення та запуск

### Інструкція з інсталяції

1. Клонувати репозиторій:

```bash
git clone https://github.com/vladyslavJ/isd-kpi.git
```

```bash
cd isd-kpi
```

2. Встановити залежності:

```bash
npm install
```

3. За бажанням створити файл `.env` з параметрами (приклад у `.env.example`):

```bash
PORT=3000
CASH_URL=https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5
NON_CASH_URL=https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11
```

4. Запуск у режимі розробки (з автоматичним перезавантаженням):

```bash
npm run dev
```

5. Побудова та запуск у продакшен-режимі:

```bash
npm run build
```

```bash
npm start
```

6. Відкрити у браузері:

```bash
http://localhost:3000/
```

## 2. Сценарій використання зовнішнього API ПриватБанку в моєму застосунку

1. **Сервіс (`rate.service.ts`)**
   – при виклику методу `getCashRates()` робиться HTTP GET-запит до URL
   `https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5`,
   сервер ПриватБанку повертає JSON-масив курсів (валюта, курс купівлі, курс продажу).
   – при виклику `getNonCashRates()` аналогічно запит до
   `https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11`.

2. **Контролер (`rate.controller.ts`)**
   – функції `getCashRate` та `getNonCashRate` викликають відповідні сервіси,
   отримують масив курсів і віддають його клієнту у вигляді JSON.

3. **Роути (`rate.routes.ts`)**

```text
GET /api/exchange/cash      → getCashRate()
GET /api/exchange/non-cash  → getNonCashRate()
```

4. **Глобальний обробник помилок**
   – ловить помилки Axios чи інших частин застосунку і повертає клієнту
   `{ error: "Internal Server Error" }` із відповідним статусом.

## 3. Приклад використання мого API у фронтенд-інтерфейсі

У папці `public/index.html` реалізовано одну сторінку з трьома кнопками та полем виводу:

-   **Готівковий курс ПриватБанку (у відділеннях)**
    При натисненні кнопки **“Готівковий курс”** відправляється

```http
GET /api/exchange/cash
```

і результати у вигляді таблиці курсів відображаються під кнопками.

-   **Безготівковий курс ПриватБанку (конвертація за картками, Поповнення вкладів)**
    При натисненні кнопки **“Безготівковий курс”** відправляється

```http
GET /api/exchange/non-cash
```

    і дані виводяться у тій же таблиці.

-   **“Хто це створив?”**
    При натисненні кнопки **“Хто це створив?”** відправляється

```http
GET /api/creator?login=is-33fiot-23-128
```

    і у блоці виводу з’являються:

```json
{
	"login": "is-33fiot-23-128",
    "surname": "Жуков",
	"name": "Владислав",
	"course": 2,
	"group": "ІС-33"
}
```

### Візуальний сценарій

1. Користувач заходить на головну сторінку.
2. Натискає одну з кнопок:

    - **“Готівковий курс”** → бачить актуальні курси купівлі/продажу.
    - **“Безготівковий курс”** → бачить курси конвертації карток.
    - **“Хто це створив?”** → отримує дані про автора (Жуков Владислав, курс 2, група ІС-33).

3. Будь-яка помилка (мережі чи сервера) виводиться у блоці `#output`.

Тепер ваш застосунок встановлено, запущено і готовий до роботи! Перейдіть на `http://localhost:3000` та перевірте всі сценарії.
